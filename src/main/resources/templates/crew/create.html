<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>크루 생성</title>
    <link rel="stylesheet" th:href="@{/css/crew/create.css}">
</head>
<body>
<header class="main-header">
    <div class="logo-search">
        <a th:href="@{/}">
            <img th:src="@{/image/logo.png}" alt="Gachi Watch Logo" class="logo">
        </a>
        <!--<form id="keywordForm" method="post" th:action="@{/content/keyword}">
            <input type="text" name="keyword" style="display: inline-block;" placeholder="콘텐츠, 키워드 입력" class="search-bar">
            <button class="search-button" type="submit" >Search</button>
        </form>-->
    </div>
    <nav class="nav-menu">
        <a th:href="@{/content/search}">통합 콘텐츠</a>
        <a th:href="@{/content/recommend}">추천 콘텐츠</a>
        <a th:href="@{/crew/view}">공유 매칭</a>
        <a th:href="@{/account/logout}">
            <button class="logout">Logout</button>
        </a>
        <!-- 로그인 -> 홈화면 뷰 연결 위해 null-safe 처리 했습니다 -->
        <a th:href="@{/mypage/mypage}">
            <img src="/image/profile_img_default.png" alt="프로필" class="profile-image">
        </a>
    </nav>
</header>
<div class="wrapper">
    <div class="form-container">
        <form th:action="@{/crew/create}" th:object="${crewForm}" method="post">
            <div>
                <label for="crewName">크루 이름</label>
                <input type="text" th:field="*{crewName}" id="crewName" />
                <p th:if="${#fields.hasErrors('crewName')}" th:errors="*{crewName}"></p>
            </div>

            <div class="form-group">
                <label>OTT 플랫폼</label>
                <div class="ott-platforms" th:object="${crewForm}">
                    <div th:each="platform : ${platforms}">
                        <input type="radio"
                               th:field="*{platform}"
                        th:id="${'platform_' + platform.name()}"
                        th:value="${platform.name()}"
                        />
                        <label th:for="${'platform_' + platform.name()}">
                            <img th:src="@{'/image/' + ${platform.name().toLowerCase()} + '.png'}"
                                 th:alt="${platform.label}" />
                        </label>
                    </div>
                    <p th:if="${#fields.hasErrors('platform')}" th:errors="*{platform}" style="display: block;"></p>
                </div>

            </div>

            <div>
                <label for="crewDesc">설명</label>
                <textarea th:field="*{crewDesc}" id="crewDesc"></textarea>
                <p th:if="${#fields.hasErrors('crewDesc')}" th:errors="*{crewDesc}"></p>
            </div>

            <div>
                <label for="payment">월결제 금액</label>
                <input type="number" th:field="*{payment}" id="payment" />
                <p th:if="${#fields.hasErrors('payment')}" th:errors="*{payment}"></p>
            </div>

            <div>
                <label for="payDate">납부일</label>
                <input type="date" th:field="*{payDate}" id="payDate" />
            </div>

            <div>
                <label for="maxMember">최대 인원</label>
                <input type="number" th:field="*{maxMember}" value="1" min="1" id="maxMember" />
                <p th:if="${#fields.hasErrors('maxMember')}" th:errors="*{maxMember}"></p>
            </div>

            <div>
                <label for="account">계좌번호</label>
                <input type="text" th:field="*{account}" id="account" />
            </div>

            <div>
                <button type="submit" class="submit-btn">크루 생성</button>
            </div>
        </form>

    </div>
</div>
</body>
</html>
